HTMLElement.prototype.wrap=function(e){this.parentNode.insertBefore(e,this),this.parentNode.removeChild(this),e.appendChild(this)},Yun.utils={wrapTable(){document.querySelectorAll("table").forEach(e=>{const t=document.createElement("div");t.className="table-container",e.wrap(t)})},getScript(e,t,o){if(o)t();else{const o=document.createElement("script");o.onload=(()=>{setTimeout(t)}),o.src=e,document.head.appendChild(o)}},insertCopyCodeBtn(){document.querySelectorAll("pre[class*='language-']").forEach(e=>{if(!CONFIG.copycode)return;const t=document.createElement("div");t.className="code-container",e.wrap(t),t.insertAdjacentHTML("beforeend",'<div class="copy-btn"><svg class="icon"><use xlink:href="#icon-file-copy-line" aria-label="copy"></use></svg></div>');const o=t.querySelector(".copy-btn");o.addEventListener("click",()=>{const e=(t.querySelector("code[class*='language-']")||t.querySelector(".token")).innerText,n=document.createElement("textarea");n.style.top=window.scrollY+"px",n.style.position="absolute",n.style.opacity="0",n.readOnly=!0,n.value=e,document.body.append(n),n.select(),n.setSelectionRange(0,e.length),n.readOnly=!1;const c=document.execCommand("copy"),r=c?"#icon-check-line":"#icon-timer-line",l=o.querySelector("svg use");l.setAttribute("xlink:href",r),l.setAttribute("color",c?"green":"red"),n.blur(),o.blur(),document.body.removeChild(n)}),t.addEventListener("mouseleave",()=>{setTimeout(()=>{const e=o.querySelector("svg use");e.setAttribute("xlink:href","#icon-file-copy-line"),e.setAttribute("color","gray")},200)})})}};